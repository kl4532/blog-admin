<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <link rel="stylesheet" href="/styles.css">
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <% include partials/nav.ejs %>
  <!-- Page Content -->
<div class="container">

  <div class="row">

    <!-- Blog Entries Column -->
    <div class="col-md-8">

      <!-- Blog Post -->
      <% if(page!==1){ %> <!-- for pages different than 1(home)-->
        <% if(articles.length-1-(itemsPerPage*(page-1))< itemsPerPage) {%> <!-- last page not full -->
          <% for (var i = articles.length-1-(itemsPerPage*(page-1)); i>=0; i--) { %>
            <% include partials/showArticle.ejs %>
        <% }}else { %> <!-- for full pages not 1(home)-->
          <% for (var i = articles.length-1-(itemsPerPage*(page-1)); i > articles.length-1-(itemsPerPage*(page-1))-(itemsPerPage); i--) { %>
            <% include partials/showArticle.ejs %>
      <% }}}else {%> <!-- for page 1(home)-->
        <%if(articles.length <= itemsPerPage){%> <!-- for page 1 not full-->
          <% for (var i = articles.length-1; i>=0; i--) { %>
            <% include partials/showArticle.ejs %>
        <% }}else {%> <!-- for page 1 full-->
              <% for (var i = articles.length-1; i > articles.length-1- itemsPerPage; i--) { %>
                <% include partials/showArticle.ejs %>
      <% }}}; %>
      <% if(articles.length==0){ %>
        <h1 class="no-art"><i>No articles yet...</i></h1>
      <% }else{ %>
        <% include partials/pagination.ejs %>
      <% } %>
    </div>

    <!-- Sidebar Widgets Column -->
    <div class="col-md-4">

      <!-- Search Widget -->
      <form id="search-form" method="POST" action='/articles/search'>
        <div class="card my-4">
          <h5 class="card-header">Search (by title)</h5>
          <div class="card-body">
            <div class="input-group">
              <input name="search" type="text" class="form-control" placeholder="Search for...">
              <span class="input-group-btn">
                <button class="btn btn-secondary" type="submit">Go!</button>
              </span>
            </div>
          </div>
        </div>
    </form>

      <!-- Categoriestext Widget -->
      <div class="card my-4">
        <h5 class="card-header">Categories</h5>
        <div class="card-body">
          <div class="row">
            <div class="col-lg-6">
              <ul class="list-unstyled mb-0">
                <li>
                  <a href="/?category=lifestyle">Lifestyle</a>
                </li>
                <li>
                  <a href="/?category=food">Food</a>
                </li>
                <li>
                  <a href="/?category=books">Books</a>
                </li>
              </ul>
            </div>
            <div class="col-lg-6">
              <ul class="list-unstyled mb-0">
                <li>
                  <a href="/?category=running">Running</a>
                </li>
                <li>
                  <a href="/?category=zen">Zen</a>
                </li>
                <li>
                  <a href="/?category=kubica">Kubica</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- Side Widget -->
      <!-- <div class="card my-4">
        <h5 class="card-header">Side Widget</h5>
        <div class="card-body">
          You can put anything you want inside of these side widgets. They are easy to use, and feature the new Bootstrap 4 card containers!
        </div>
      </div> -->

    </div>

  </div>
  <!-- /.row -->

</div>
<!-- /.container -->

<!-- Footer -->
<% include partials/footer.ejs %>
<!-- Bootstrap core JavaScript -->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
